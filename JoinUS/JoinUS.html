<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <title>
        Unisciti a noi
    </title>
    <meta name="description"
        content="Questa pagina è dedicata alla prenotazione di un incontro con un nostro personal trainer..............">
    <meta name="keyword" content="....................................">
    <meta name="author" content="...............................">
    <link rel="stylesheet" href="JoinUS.css" media="handheld, screen" />
    <!--..............................................................-->
    <script type="text/javascript">
        var dettagli_form = {
            "nome": ["", /^\w{2,}$/, "Inserire un nome di lunghezza almeno 2 e non sono ammessi numeri"],
            "cognome": ["", /^\w{2,}$/, "Inserire un cognome di lunghezza almeno 2 e non sono ammessi numeri"],
            //"email": ["", /^ (?=.{ 1, 64}@)[A - Za - z0 -9_ -] + (\\.[A - Za - z0 -9_ -] +)* @[^ -][A - Za - z0 - 9 -] + (\\.[A - Za - z0 - 9 -] +)* (\\.[A - Za - z]{ 2, }) $/, "Inserire una mail nel formato nome@mail.dominio"],
            "note": ["Aggiungi le tue richieste specifiche", /.{0,}/, "Nessun controllo"]
        };
        //Problem, COLLEGAMENTO A PHP SEMBRA NON FUNZIONARE

        function caricamento() {
            for (var key in dettagli_form) {
                var input = document.getElementById(key);
                campoDefault(input);
                input.onfocus = function () {
                    campoPerInput(this);
                };
                input.onblur = function () {
                    validazioneCampo(this);
                };
            }
        }

        function campoDefault(input) {
            input.className = "default-text";
            input.value = dettagli_form[input.id][0];
        }

        function campoPerInput(input) {
            if (input.value == dettagli_form[input.id][0]) {
                input.value = "";
                input.className = "";   //forse è contrario
            }
        }

        function validazioneCampo(input) {
            var p = input.parentNode;
            if (p.children.length == 2) {
                p.removeChild(p.children[1]);
            }
            var regex = dettagli_form[input.id][1];
            var text = input.value;
            if ((text == dettagli_form[input.id][0]) || (text.search(regex) != 0)) {
                mostraErrore(input);
                input.focus();
                input.select();
                return false;
            }
            return true;
        }

        function validazioneForm() {
            for (var key in dettagli_form) {
                var input = document.getElementById(key);
                if (!validazioneCampo(input)) {
                    return false;
                }
            }
            return true;
        }

        function mostraErrore(input) {
            var p = input.parentNode;
            var e = document.createElement("strong");
            e.className = "errorSuggestion";
            e.appendChild(document.createTextNode(dettagli_form[input.id][2]));
            p.appendChild(e);
        }

    </script>

</head>


<body onload="caricamento();">
    <main id="#contenuto">
        <h1>
            Unisciti a noi
        </h1>
        <form method="post" action="JoinUs.php" onsubmit="return validazioneForm();">
            <messaggiForm>
                <fieldset>
                    <legend>Inserisci i tuoi dati</legend>

                    <label for="nome">Nome: </label>
                    <span><input type="text" name="nome" id="nome" value="<valoreNome />"> </span>
                    </br>

                    <label for="cognome">Cognome: </label>
                    <span><input type="text" name="cognome" id="cognome" value="<valoreCognome />"></span> </br>

                    <p>Sesso:</p>

                    <span><input type="radio" id="maschio" name="sesso" value="maschio"></span>
                    <label for="maschio">M</label><br>
                    <span><input type="radio" id="femmina" name="sesso" value="femmina" checked></span>
                    <label for="femmina">F</label><br>

                    </br>

                    <label for="dataNascita">Data di Nascita: </label>
                    <span><input type="date" name="dataNascita" id="dataNascita" value="<valData />"
                            required></span><br />



                    <label for="email">E-Mail:</label>
                    <span><input type="text" name="email" id="email" value="<valoreMail />"></span> </br>
                    <!-- se permesso da compatibilità usare type email-->

                    <label for="telefono">Telefono:</label>
                    <span><input type="tel" name="telefono" id="telefono" value="<valoreTel />"></span></br>
                    <!-- Controllare compatibilità con browser vecchi-->




                    <label for="note">Note: </label> <br />
                    <span><textarea id="note" rows="10" cols="40" name="note"></textarea></span><br />
                    <!--cosa fare con valoreNote-->
                </fieldset>

                <fieldset>
                    <legend>Bottoni</legend>
                    <input type="submit" id="submit" name="submit" class="margineSinistro" value="Conferma" />
                    <input type="reset" id="reset" class="margineSinistro" value="Cancella" />
                </fieldset>


            </messaggiForm>
        </form>

        <?php
                    include_once "utilityphp/footer.php";                
        ?>
    </main>

</body>

</html>